include:
- base/defaults.yml

params:
  out_dir: /home/don/Documents/Temp/FreeCAD/
  project_name: Question Shaped Element for Cutting
  version: '1.0'
  created: '2025-07-27'
  description: Test project demonstrating helical curve following with wafers

  cylinder_diameter: 2.0

  base_min_height: 1.0
  base_max_chord: 0.3

  curve_min_height: 0.5
  curve_max_chord: 0.2

  close_max_angular_span: 45

metadata:
  project_name: ${project_name}
  version: ${version}
  created: ${created}
  description: ${description}

output_files:
  working_directory: ${out_dir}

workflow:
- operation: remove_objects
  description: Clean up any existing objects
  keep_patterns:
  - helixxx.*

- operation: build_segment
  segment_type: curve_follower
  name: base
  description: Vertical base columnr
  curve_spec:
    type: spiral
    parameters:
      max_height: 4.0
      min_radius: 0.0
      max_radius: 0.0
      turns: 1
      points: 10
  wafer_settings:
    cylinder_diameter: ${cylinder_diameter}
    min_height: ${base_min_height}
    max_chord: ${base_max_chord}
  segment_settings:
    show_lcs: false
    build_segment: true
    rotate_segment: 0.0
    add_curve_vertices: false

- operation: build_segment
  segment_type: curve_follower
  name: Curve Left
  description: Turn left for opening
  curve_spec:
    type: partial_circle
    parameters:
      radius: 4.0
      start_angle: 0.0
      end_angle: 90.0
      points: 100
    transformations:
    - operation: translate
      vector: [0.0, 0.0, 4.0]
  wafer_settings:
    cylinder_diameter: ${cylinder_diameter}
    min_height: ${curve_min_height}
    max_chord: ${curve_max_chord}
  segment_settings:
    show_lcs: false
    build_segment: true
    rotate_segment: 0.0
    add_curve_vertices: false

- operation: build_segment
  segment_type: curve_follower
  name: Curve Right
  description: Turn back to align
  curve_spec:
    type: partial_circle
    parameters:
      radius: 4.0
      start_angle: 90.0
      end_angle: 0.0
      points: 100
    transformations:
    - operation: translate
      vector: [0.0, 8.0, 4.0]
  wafer_settings:
    cylinder_diameter: ${cylinder_diameter}
    min_height: ${curve_min_height}
    max_chord: ${curve_max_chord}
  segment_settings:
    show_lcs: false
    build_segment: true
    rotate_segment: 0.0
    add_curve_vertices: f
