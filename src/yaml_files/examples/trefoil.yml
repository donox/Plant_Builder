include:
- base/defaults.yml

params:
  out_dir: /home/don/Documents/Temp/FreeCAD/
  cuts_file: trefoil_cutting_list.txt
  place_file: trefoil_placement_list.txt
  trace_file: build_trace.log

  project_name: Demonstrate Trefoil
  version: '1.0'
  created: '2025-12-13'
  description: Trefoil example

  cylinder_diameter: 2.0
  profile_density: 0.5
  min_height: 0.4
  max_chord: 0.2

metadata:
  project_name: ${project_name}
  version: ${version}
  created: ${created}
  description: ${description}

output_files:
  working_directory: ${out_dir}
  cuts_file: ${cuts_file}
  place_file: ${place_file}
  trace_file: ${trace_file}

workflow:
- operation: remove_objects
  description: Clean up any existing objects
  keep_patterns:
  - helix.*
  - .*Metadata.*

- operation: build_segment
  segment_type: curve_follower
  name: Trefoil
  description: Trefoil curve
  curve_spec:
    type: trefoil
    parameters:
      radius: 5.0
      height: 1.0
      points: 300
  wafer_settings:
    cylinder_diameter: ${cylinder_diameter}
    min_height: ${min_height}
    max_chord: ${max_chord}
    profile_density: ${profile_density}
  segment_settings:
    show_lcs: false
    build_segment: true
    rotate_segment: 0.0
    add_curve_vertices: false
