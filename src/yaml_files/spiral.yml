# Plant Builder Project Configuration
# This file defines the workflow and construction parameters for building segments

metadata:
  project_name: "Test Spiral"
  version: "1.0"
  created: "2025-07-27"
  description: "BTest Overhand Knotx"

# Global settings that apply to all operations
global_settings:
  remove_existing: true
  relocate_segments: true
  print_cuts: true
  print_place: true
  show_lcs: false
  temp_file: "temp_construction.dat"

# Output file settings
output_files:
  working_directory: "/home/don/Documents/Temp/FreeCAD/"
  cuts_file: "cutting_list_spiral.txt"
  place_file: "placement_list_spiral.txt"
  trace_file: "build_trace.log"

# Workflow definition - operations executed in order
workflow:
  - operation: "remove_objects"
    description: "Clean up any existing objects"
    patterns:
      - "Loft.*"
      - 'Wafer_*'
      - 'CuttingPlane_*'
      - "temp.*"
      - "base*"
      - "overh*"
      - "recon"
      - "close"
      - "Cutting"

#  - operation: "set_position"
#    description: "Set starting position and orientation"
#    position: [0, 0, 0]          # x, y, z coordinates
#    rotation: [0, 0, 0]          # roll, pitch, yaw in degrees (optional)

  - operation: "build_segment"
    lofted_segment: true
    segment_type: "curve_follower"
    name: "spiral"
    description: "Vertical base columnr"
    curve_spec:
      type: "spiral"
      parameters:
        max_height: 6.0
        max_radius: 2.5
        turns: 1
        points: 300
    wafer_settings:
      cylinder_diameter: 1.875
      min_height: .1
      max_chord: 0.1
      max_wafer_count: 5
    segment_settings:
      show_lcs: true
      build_segment: true
      rotate_segment: 0.0
      add_curve_vertices: true      # This is displaying improperly (though calculations appear correct)


#    segment_settings:
#      show_lcs: false
#      build_segment: true
#      rotate_segment: 0.0
#      add_curve_vertices: true
#
#  - operation: "build_segment"
#    segment_type: "curve_follower"
#    name: "close_seg"
#    description: "Horizontal end  columnn"
#    curve_spec:
#      type: "linear"
#      parameters:
#        length: 2.0
#        points: 10
#    wafer_settings:
#      cylinder_diameter: 2.25
#      min_height: .2
#      max_chord: 0.3
#      max_angular_span: 45
#    segment_settings:
#      show_lcs: false
#      build_segment: true
#      rotate_segment: 0.0
#      add_curve_vertices: false      # This is displaying improperly (though calculations appear correct)

#  - operation: 'validate_reconstruction'
#    segment_name: 'spiral'
#    cutlist_file: '/home/don/Documents/Temp/FreeCAD/cutting_list_spiral.txt'
#    create_vertices: true
#    match_original_position: true
#    validation_tolerance: 0.01





